<html>
	<head>
		<title>cJS - Controller-Test</title>
		<script type="text/javascript" src="../lib/cJS.js"></script>
		<script type="text/javascript">
			function Example(){
				this.value=0;
				this.watchers = [];

				this.init = function(){
					this.watchers = [
						{fieldname: "value", handler: (target, property, value) => {console.log("new time value: " + value);}}
                    ];
                    
                    setInterval(() => {this.value = Date.now()}, 1000);
				};
			}
		</script>
	</head>
	<body>
		<div cjs-controller="test:Example:init">
			Time: <span cjs-binding-value="value"></span>
		</div>
	</body>
</html>